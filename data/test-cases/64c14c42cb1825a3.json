{"uid":"64c14c42cb1825a3","name":"test_write_product_review[create review as registered user]","fullName":"tests.frontend.product_description_page.test_write_product_review.TestWriteProductReview#test_write_product_review","historyId":"49967684ca4bf6f1aab717ef143ad4f9","time":{"start":1759670261916,"stop":1759670273841,"duration":11925},"description":"Submit a product review.\n\nArgs:\n    user_type (str): Either 'guest_user' or 'registered_user'.\n\nFlow:\n    - Register a new account if testing as registered user.\n    - Navigate to a product page.\n    - Open the reviews tab.\n    - Select a star rating and write a review.\n    - If guest user, provide name and email.\n    - Submit and verify success message.\n","descriptionHtml":"<p>Submit a product review.</p>\n<p>Args:<br />\nuser_type (str): Either 'guest_user' or 'registered_user'.</p>\n<p>Flow:<br />\n- Register a new account if testing as registered user.<br />\n- Navigate to a product page.<br />\n- Open the reviews tab.<br />\n- Select a star rating and write a review.<br />\n- If guest user, provide name and email.<br />\n- Submit and verify success message.</p>\n","status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message: Element with locator = ('css selector', 'em.woocommerce-review__awaiting-approval'), does not contain text: \"Your review is awaiting approval\", after waiting 5 seconds.\nStacktrace:\n#0 0x5617800a633a <unknown>\n#1 0x56177fb246e6 <unknown>\n#2 0x56177fb76854 <unknown>\n#3 0x56177fb76af1 <unknown>\n#4 0x56177fbc5024 <unknown>\n#5 0x56177fb9c80d <unknown>\n#6 0x56177fbc24b8 <unknown>\n#7 0x56177fb9c5b3 <unknown>\n#8 0x56177fb68cc2 <unknown>\n#9 0x56177fb69981 <unknown>\n#10 0x561780068ba8 <unknown>\n#11 0x56178006ca17 <unknown>\n#12 0x5617800500c9 <unknown>\n#13 0x56178006d5c5 <unknown>\n#14 0x56178003590f <unknown>\n#15 0x561780092898 <unknown>\n#16 0x561780092a73 <unknown>\n#17 0x5617800a52d3 <unknown>\n#18 0x7f8515a90aa4 <unknown>\n#19 0x7f8515b1da64 __clone","statusTrace":"self = <test_write_product_review.TestWriteProductReview object at 0x7fb092418b90>\nuser_type = 'registered_user'\n\n    def test_write_product_review(self, user_type):\n        \"\"\"Submit a product review.\n    \n        Args:\n            user_type (str): Either 'guest_user' or 'registered_user'.\n    \n        Flow:\n            - Register a new account if testing as registered user.\n            - Navigate to a product page.\n            - Open the reviews tab.\n            - Select a star rating and write a review.\n            - If guest user, provide name and email.\n            - Submit and verify success message.\n        \"\"\"\n        # create registered user\n        if user_type == 'registered_user':  # create a registered user\n            self.my_acc_so.go_to_my_account()\n            self.registered_email = generate_random_email_and_password()['email']\n            self.my_acc_so.input_register_email(self.registered_email)\n            self.my_acc_so.input_register_password(generate_random_email_and_password()['password'])\n            self.my_acc_so.click_register_button()\n    \n        #go to home page\n        self.home_page.go_to_home_page()\n    \n        # click on product\n        self.home_page.click_first_product()\n    \n        # go to reviews\n        self.pdp.click_on_reviews_link()\n    \n        # select star rating\n        self.pdp.click_on_stars_rating()\n    \n        # write review\n        self.pdp.write_product_review(review_text='automation review')\n    \n        if user_type == 'guest_user':\n            # fill in reviewer name and email fields\n            self.pdp.write_reviewer_name(name=generate_random_string())\n            self.pdp.write_reviewer_email(email=generate_random_email_and_password()['email'])\n    \n        # submit and verify pending message\n>       self.pdp.click_submit_and_verify_success()\n\ntests/frontend/product_description_page/test_write_product_review.py:77: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/pages/ProductDescriptionPage.py:98: in click_submit_and_verify_success\n    self.sl.wait_until_element_contains_text(self.SUCCESS_MSG, 'Your review is awaiting approval')\nsrc/selenium_extended/SeleniumExtended.py:87: in wait_until_element_contains_text\n    WebDriverWait(self.driver, timeout).until(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"95ed470c3487414673c177c890aded21\")>\nmethod = <function text_to_be_present_in_element.<locals>._predicate at 0x7fb0922bb9c0>\nmessage = 'Element with locator = (\\'css selector\\', \\'em.woocommerce-review__awaiting-approval\\'), does not contain text: \"Your review is awaiting approval\", after waiting 5 seconds.'\n\n    def until(self, method: Callable[[D], Union[Literal[False], T]], message: str = \"\") -> T:\n        \"\"\"Wait until the method returns a value that is not False.\n    \n        Calls the method provided with the driver as an argument until the\n        return value does not evaluate to ``False``.\n    \n        Parameters:\n        ----------\n        method: callable(WebDriver)\n            - A callable object that takes a WebDriver instance as an argument.\n    \n        message: str\n            - Optional message for :exc:`TimeoutException`\n    \n        Return:\n        -------\n        object: T\n            - The result of the last call to `method`\n    \n        Raises:\n        -------\n        TimeoutException\n            - If 'method' does not return a truthy value within the WebDriverWait\n            object's timeout\n    \n        Example:\n        --------\n        >>> from selenium.webdriver.common.by import By\n        >>> from selenium.webdriver.support.ui import WebDriverWait\n        >>> from selenium.webdriver.support import expected_conditions as EC\n    \n        # Wait until an element is visible on the page\n        >>> wait = WebDriverWait(driver, 10)\n        >>> element = wait.until(EC.visibility_of_element_located((By.ID, \"exampleId\")))\n        >>> print(element.text)\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            if time.monotonic() > end_time:\n                break\n            time.sleep(self._poll)\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: Element with locator = ('css selector', 'em.woocommerce-review__awaiting-approval'), does not contain text: \"Your review is awaiting approval\", after waiting 5 seconds.\nE       Stacktrace:\nE       #0 0x5617800a633a <unknown>\nE       #1 0x56177fb246e6 <unknown>\nE       #2 0x56177fb76854 <unknown>\nE       #3 0x56177fb76af1 <unknown>\nE       #4 0x56177fbc5024 <unknown>\nE       #5 0x56177fb9c80d <unknown>\nE       #6 0x56177fbc24b8 <unknown>\nE       #7 0x56177fb9c5b3 <unknown>\nE       #8 0x56177fb68cc2 <unknown>\nE       #9 0x56177fb69981 <unknown>\nE       #10 0x561780068ba8 <unknown>\nE       #11 0x56178006ca17 <unknown>\nE       #12 0x5617800500c9 <unknown>\nE       #13 0x56178006d5c5 <unknown>\nE       #14 0x56178003590f <unknown>\nE       #15 0x561780092898 <unknown>\nE       #16 0x561780092a73 <unknown>\nE       #17 0x5617800a52d3 <unknown>\nE       #18 0x7f8515a90aa4 <unknown>\nE       #19 0x7f8515b1da64 __clone\n\n/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/selenium/webdriver/support/wait.py:146: TimeoutException","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"init_driver","time":{"start":1759670255788,"stop":1759670256110,"duration":322},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1759670256110,"stop":1759670256434,"duration":324},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"init_driver::0","time":{"start":1759670273851,"stop":1759670273932,"duration":81},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"efe43"},{"name":"tag","value":"reviews"},{"name":"parentSuite","value":"tests.frontend.product_description_page"},{"name":"suite","value":"test_write_product_review"},{"name":"subSuite","value":"TestWriteProductReview"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"2638-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.frontend.product_description_page.test_write_product_review"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"user_type","value":"'registered_user'"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["reviews","efe43"]},"source":"64c14c42cb1825a3.json","parameterValues":["'registered_user'"]}