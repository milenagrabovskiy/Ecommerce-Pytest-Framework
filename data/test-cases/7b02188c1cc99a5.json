{"uid":"7b02188c1cc99a5","name":"test_guest_cart_does_not_persist_after_session_end","fullName":"tests.frontend.my_account.test_cart_persistence_after_logout.TestCartPersistenceAfterLogout#test_guest_cart_does_not_persist_after_session_end","historyId":"e391575504b7e5c844b1b1e51b004f10","time":{"start":1760462743769,"stop":1760462748908,"duration":5139},"description":"Verify that a guest user's cart does not persist after browser session ends.\n\nThis test ensures that when a guest (unauthenticated) user adds an item to their cart\nand then the browser session ends (simulated by clearing cookies),\nthe cart becomes empty when the user revisits the site.\nIt validates that guest cart data is stored only in the session and not persisted.\n\nExpected Result:\n    After clearing cookies and refreshing, the cart is empty.\n","descriptionHtml":"<p>Verify that a guest user's cart does not persist after browser session ends.</p>\n<p>This test ensures that when a guest (unauthenticated) user adds an item to their cart<br />\nand then the browser session ends (simulated by clearing cookies),<br />\nthe cart becomes empty when the user revisits the site.<br />\nIt validates that guest cart data is stored only in the session and not persisted.</p>\n<p>Expected Result:<br />\nAfter clearing cookies and refreshing, the cart is empty.</p>\n","status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message: Element with locator = ('css selector', 'li a.cart-contents span.count'), does not contain text: \"1 item\", after waiting 5 seconds.","statusTrace":"self = <test_cart_persistence_after_logout.TestCartPersistenceAfterLogout object at 0x7f1498a2fb10>\nsetup_fixture = None\n\n    @pytest.mark.efe57\n    def test_guest_cart_does_not_persist_after_session_end(self, setup_fixture):\n        \"\"\"Verify that a guest user's cart does not persist after browser session ends.\n    \n        This test ensures that when a guest (unauthenticated) user adds an item to their cart\n        and then the browser session ends (simulated by clearing cookies),\n        the cart becomes empty when the user revisits the site.\n        It validates that guest cart data is stored only in the session and not persisted.\n    \n        Expected Result:\n            After clearing cookies and refreshing, the cart is empty.\n        \"\"\"\n        # fixture goes to home page and adds first product to cart\n>       self.header.wait_until_cart_item_count(1)\n\ntests/frontend/my_account/test_cart_persistence_after_logout.py:99: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/pages/Header.py:22: in wait_until_cart_item_count\n    self.sl.wait_until_element_contains_text(self.CART_ITEM_COUNT, expected_text)\nsrc/selenium_extended/SeleniumExtended.py:87: in wait_until_element_contains_text\n    WebDriverWait(self.driver, timeout).until(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"91de5020d1741a069b5874d1d077d95e\")>\nmethod = <function text_to_be_present_in_element.<locals>._predicate at 0x7f149899ee80>\nmessage = 'Element with locator = (\\'css selector\\', \\'li a.cart-contents span.count\\'), does not contain text: \"1 item\", after waiting 5 seconds.'\n\n    def until(self, method: Callable[[D], Union[Literal[False], T]], message: str = \"\") -> T:\n        \"\"\"Wait until the method returns a value that is not False.\n    \n        Calls the method provided with the driver as an argument until the\n        return value does not evaluate to ``False``.\n    \n        Parameters:\n        ----------\n        method: callable(WebDriver)\n            - A callable object that takes a WebDriver instance as an argument.\n    \n        message: str\n            - Optional message for :exc:`TimeoutException`\n    \n        Return:\n        -------\n        object: T\n            - The result of the last call to `method`\n    \n        Raises:\n        -------\n        TimeoutException\n            - If 'method' does not return a truthy value within the WebDriverWait\n            object's timeout\n    \n        Example:\n        --------\n        >>> from selenium.webdriver.common.by import By\n        >>> from selenium.webdriver.support.ui import WebDriverWait\n        >>> from selenium.webdriver.support import expected_conditions as EC\n    \n        # Wait until an element is visible on the page\n        >>> wait = WebDriverWait(driver, 10)\n        >>> element = wait.until(EC.visibility_of_element_located((By.ID, \"exampleId\")))\n        >>> print(element.text)\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            if time.monotonic() > end_time:\n                break\n            time.sleep(self._poll)\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: Element with locator = ('css selector', 'li a.cart-contents span.count'), does not contain text: \"1 item\", after waiting 5 seconds.\n\n/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/selenium/webdriver/support/wait.py:146: TimeoutException","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"init_driver","time":{"start":1760462731360,"stop":1760462731682,"duration":322},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_fixture","time":{"start":1760462733957,"stop":1760462735456,"duration":1499},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"init_driver","time":{"start":1760462748997,"stop":1760462749288,"duration":291},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"init_driver::0","time":{"start":1760462748915,"stop":1760462748995,"duration":80},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"init_driver::0","time":{"start":1760462751021,"stop":1760462751094,"duration":73},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"efe57"},{"name":"tag","value":"feregression"},{"name":"tag","value":"my_account"},{"name":"tag","value":"cart"},{"name":"tag","value":"cart_persistence"},{"name":"parentSuite","value":"tests.frontend.my_account"},{"name":"suite","value":"test_cart_persistence_after_logout"},{"name":"subSuite","value":"TestCartPersistenceAfterLogout"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"2663-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.frontend.my_account.test_cart_persistence_after_logout"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["cart_persistence","efe57","feregression","my_account","cart"]},"source":"7b02188c1cc99a5.json","parameterValues":[]}