{"uid":"cb9031f078ff2986","name":"test_create_order_no_payment_info","fullName":"tests.backend.orders.test_create_order_smoke#test_create_order_no_payment_info","historyId":"8b9c1644805fb3591d2d9e341d5d0e48","time":{"start":1759044062789,"stop":1759044063116,"duration":327},"description":"Verify order creation with missing billing, shipping, and payment data.\n\nEnsures the API still creates an order when critical fields are empty and\nsets the correct flags and status.\n\nArgs:\n    my_orders_smoke_setup (dict): Fixture with product info, API helpers,\n        and order tracking.\n\nAsserts:\n    - Response is not empty.\n    - Order ID is generated and tracked for teardown.\n    - `needs_processing` is True.\n    - `needs_payment` is True.\n    - Status equals \"pending\".\n","descriptionHtml":"<p>Verify order creation with missing billing, shipping, and payment data.</p>\n<p>Ensures the API still creates an order when critical fields are empty and<br />\nsets the correct flags and status.</p>\n<p>Args:<br />\nmy_orders_smoke_setup (dict): Fixture with product info, API helpers,<br />\nand order tracking.</p>\n<p>Asserts:<br />\n- Response is not empty.<br />\n- Order ID is generated and tracked for teardown.<br />\n- <code>needs_processing</code> is True.<br />\n- <code>needs_payment</code> is True.<br />\n- Status equals &quot;pending&quot;.</p>\n","status":"failed","statusMessage":"AssertionError: Create order without billing, shipping, and payment info returned 'False' for 'needs_processing'. Expected 'True'.\nassert False","statusTrace":"my_orders_smoke_setup = {'generic_orders_helper': <demostore_automation.src.generic_helpers.generic_orders_helper.GenericOrdersHelper object a...<demostore_automation.src.api_helpers.OrdersAPIHelper.OrdersAPIHelper object at 0x7f6b63f9e8b0>, 'product_id': 32, ...}\n\n    @pytest.mark.ecomorders3\n    def test_create_order_no_payment_info(my_orders_smoke_setup):\n        \"\"\"Verify order creation with missing billing, shipping, and payment data.\n    \n        Ensures the API still creates an order when critical fields are empty and\n        sets the correct flags and status.\n    \n        Args:\n            my_orders_smoke_setup (dict): Fixture with product info, API helpers,\n                and order tracking.\n    \n        Asserts:\n            - Response is not empty.\n            - Order ID is generated and tracked for teardown.\n            - `needs_processing` is True.\n            - `needs_payment` is True.\n            - Status equals \"pending\".\n        \"\"\"\n        product_id = my_orders_smoke_setup[\"product_id\"]\n        product_price = my_orders_smoke_setup[\"product_price\"]\n        logger.info(f\"Product ID: {product_id}, Product price: {product_price}\")\n    \n        product_args = {\n                        \"line_items\": [{\"product_id\": product_id, \"quantity\": 1}],\n                        \"shipping\": {},\n                        \"billing\": {},\n                        \"shipping_lines\": {},\n                        \"set_paid\": False,\n                        \"payment_method\": '',\n                        \"payment_method_title\": ''\n                        }\n    \n        responses_list = my_orders_smoke_setup[\"generic_orders_helper\"].create_order(additional_args=product_args) # returns list\n        create_order_response = responses_list[0] # take first (and only) response from list\n        assert create_order_response, f\"Create order as guest user API response is empty\"\n        order_id = create_order_response['id']\n        my_orders_smoke_setup[\"order_ids\"].append(order_id)\n>       assert create_order_response[\"needs_processing\"], (f\"Create order without billing, shipping, and payment info returned\"\n                                                             f\" 'False' for 'needs_processing'. Expected 'True'.\")\nE       AssertionError: Create order without billing, shipping, and payment info returned 'False' for 'needs_processing'. Expected 'True'.\nE       assert False\n\ntests/backend/orders/test_create_order_smoke.py:135: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"my_orders_smoke_setup","time":{"start":1759044036158,"stop":1759044036833,"duration":675},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Verify order creation with missing billing, shipping, and payment data.\n\nEnsures the API still creates an order when critical fields are empty and\nsets the correct flags and status.\n\nArgs:\n    my_orders_smoke_setup (dict): Fixture with product info, API helpers,\n        and order tracking.\n\nAsserts:\n    - Response is not empty.\n    - Order ID is generated and tracked for teardown.\n    - `needs_processing` is True.\n    - `needs_payment` is True.\n    - Status equals \"pending\".\n","status":"failed","statusMessage":"AssertionError: Create order without billing, shipping, and payment info returned 'False' for 'needs_processing'. Expected 'True'.\nassert False","statusTrace":"my_orders_smoke_setup = {'generic_orders_helper': <demostore_automation.src.generic_helpers.generic_orders_helper.GenericOrdersHelper object a...<demostore_automation.src.api_helpers.OrdersAPIHelper.OrdersAPIHelper object at 0x7f6b63f9e8b0>, 'product_id': 32, ...}\n\n    @pytest.mark.ecomorders3\n    def test_create_order_no_payment_info(my_orders_smoke_setup):\n        \"\"\"Verify order creation with missing billing, shipping, and payment data.\n    \n        Ensures the API still creates an order when critical fields are empty and\n        sets the correct flags and status.\n    \n        Args:\n            my_orders_smoke_setup (dict): Fixture with product info, API helpers,\n                and order tracking.\n    \n        Asserts:\n            - Response is not empty.\n            - Order ID is generated and tracked for teardown.\n            - `needs_processing` is True.\n            - `needs_payment` is True.\n            - Status equals \"pending\".\n        \"\"\"\n        product_id = my_orders_smoke_setup[\"product_id\"]\n        product_price = my_orders_smoke_setup[\"product_price\"]\n        logger.info(f\"Product ID: {product_id}, Product price: {product_price}\")\n    \n        product_args = {\n                        \"line_items\": [{\"product_id\": product_id, \"quantity\": 1}],\n                        \"shipping\": {},\n                        \"billing\": {},\n                        \"shipping_lines\": {},\n                        \"set_paid\": False,\n                        \"payment_method\": '',\n                        \"payment_method_title\": ''\n                        }\n    \n        responses_list = my_orders_smoke_setup[\"generic_orders_helper\"].create_order(additional_args=product_args) # returns list\n        create_order_response = responses_list[0] # take first (and only) response from list\n        assert create_order_response, f\"Create order as guest user API response is empty\"\n        order_id = create_order_response['id']\n        my_orders_smoke_setup[\"order_ids\"].append(order_id)\n>       assert create_order_response[\"needs_processing\"], (f\"Create order without billing, shipping, and payment info returned\"\n                                                             f\" 'False' for 'needs_processing'. Expected 'True'.\")\nE       AssertionError: Create order without billing, shipping, and payment info returned 'False' for 'needs_processing'. Expected 'True'.\nE       assert False\n\ntests/backend/orders/test_create_order_smoke.py:135: AssertionError","steps":[],"attachments":[{"uid":"223ec873c5398443","name":"log","source":"223ec873c5398443.txt","type":"text/plain","size":2245}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"my_orders_smoke_setup::0","time":{"start":1759044063650,"stop":1759044069590,"duration":5940},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"ecomorders3"},{"name":"tag","value":"orders"},{"name":"tag","value":"smoke"},{"name":"parentSuite","value":"tests.backend.orders"},{"name":"suite","value":"test_create_order_smoke"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"2090-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.backend.orders.test_create_order_smoke"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":["ecomorders3","smoke","orders"]},"source":"cb9031f078ff2986.json","parameterValues":[]}